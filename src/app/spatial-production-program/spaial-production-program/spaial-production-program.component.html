<div class="spatial-production" fxLayout="row" fxLayoutAlign="center center">
  <div fxFlex="80" fxFill>
    <div fxLayout="column">
      <!-- form -->
      <app-add-production-process-header
      [formOpen]="isFormOpen"
      (downloadEmitter)="downloadExcel()"
      (toggleEditEmitter)="toggleForm()"
      ></app-add-production-process-header>
      <div
      fxLayout="row-reverse"
      flexLayoutAlign="end end"
      [ngClass]="{ height: isFormOpen }"
      >
      <kkl-form fxFlex="60" [group]="questions" [slots]="{button}"></kkl-form>
    </div>
    
    
    <!-- filters -->
    <div
    class="filters"
    fxLayout="row-reverse "
    fxLayoutAlign="space-between stretch"
    >
    <kkl-card-filter
    *ngFor="let filter of filters"
    [filter]="filter"
    [filterValue]="filterValue"
    (click)="setFilterValue(filter)"
    ></kkl-card-filter>
  </div>
  
  <!-- table -->
  <div class="table">
    <app-spatial-total-table> </app-spatial-total-table>
  </div>
</div>
</div>
</div>

<!-- form templates -->
<ng-template #button let-question="question" let-controls="controls">
  <div class="btn">
    <button
    type="submit"
    disableRipple="true"
    mat-raised-button
    color="primary"
    (click)="onSubmit(controls)"
    >
    חיפוש
  </button>
</div>
</ng-template>
