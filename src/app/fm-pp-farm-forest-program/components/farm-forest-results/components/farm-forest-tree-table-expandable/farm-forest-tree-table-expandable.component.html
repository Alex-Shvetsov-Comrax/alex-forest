<div fxFill>
    <kkl-table
      *ngIf="data$ | async"
      theme="primary"
      [data$]="data$"
      [columns]="columns"
      [model]="model"
      [hasState]="hasState"
      [options]="options"
      [rowsState$]="rowsState$"
      [columnsState$]="columnsState$"
      [hasActions]="true"
      [rowSlots]="{actions}"
      [formSlots]="{}"
      
      [hasFooter]="false"
      (selected)="onSelected($event)"
    >
    </kkl-table>
  </div>
  
  <ng-template #actions let-row="row">
    <div fxLayout="row" fxLayoutAlign="center end" dir="rtl">
      <ng-container *ngIf="mode$ | async as mode">
        <kkl-table-actions
          [mode$]="mode$"
          [hasEdit]="true"
          [editable]="row.editable"
          (edit)="onEditState(row)"
          (delete)="onDeleteState({row, mode})"
        ></kkl-table-actions>
      </ng-container>
    </div>
  </ng-template>
  
